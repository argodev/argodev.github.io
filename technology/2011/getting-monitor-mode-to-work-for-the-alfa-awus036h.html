<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Rob Gillen</title><link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="stylesheet" href="/assets/site.css"><link rel="stylesheet" href="/assets/academicons.css"></head><body><div id="wrap"><div class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Rob Gillen</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/technology">Technology</a></li><li><a href="/presentations">Presentations/Talks</a></li><li><a href="/papers">Publications/Arcticles</a></li><li><a href="/projects">Projects</a></li><li><a href="/personal">Personal</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li><!--li.dropdown--><!--  a.dropdown-toggle(href="#", data-toggle="dropdown") Dropdown <b class="caret"></b>--><!--  ul.dropdown-menu--><!--    li--><!--      a(href="#") Action--><!--    li--><!--      a(href="#") Another action--><!--    li--><!--      a(href="#") Something else here--><!--    li.divider--><!--    li.dropdown-header Nav header--><!--    li--><!--      a(href="#") Separated link--><!--    li--><!--      a(href="#") One more separated link--></ul></div></div></div><div class="container"><div class="page-header"><h1>Getting Monitor Mode to work for the Alfa AWUS036H</h1></div><div class="row"><div class="col-md-9"><div class="panel"><div class="panel-body"><div class="row"><div class="col-md-12"><h5>December 23, 2011</h5><p>If you’ve done much work with <a href="http://backtrack-linux.org/">BackTrack</a> and wireless penetration testing you’re likely
using (or at least have heard of) the <a href="http://www.amazon.com/gp/product/B002BFMZR8/ref=as_li_ss_tl?ie=UTF8&amp;tag=robgillenblog-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B002BFMZR8">Alfa AWUS036H</a>.
If you haven’t, it is simply a USB-connected wireless adapter that supports long range, various external antennas, has
built-in driver support in BackTrack, and supports the all-important (for this type of work)
<a href="http://en.wikipedia.org/wiki/Monitor_mode">monitor mode</a>.</p>
<p>After doing a bit of reading, and preparing my lab equipment, I fired up BackTrack, attempted to put the card into
monitor mode and… nothing. The following is a listing of the steps I took and what I did to get it working. At this
point I should also note that I’m doing this work on an HP EliteBook 2760p which has its own in-built wireless adapter.</p>
<p>Start the wireless adapter by issuing <code>ifconfig wlan1 up</code> (my in-built adapter was wlan0). Running ifconfig confirmed
that my adapter was seen by the operating system</p>
<p><img alt="ifconfig01" src="/assets/images/ifconfig01.png" class="blogimage img-responsive"></p>
<p>Then I attempted to list the available interfaces for monitoring using the <a href="http://www.aircrack-ng.org/">aircrack-ng tools</a></p>
<p><img alt="airmon01" src="/assets/images/airmon01.png" class="blogimage img-responsive"></p>
<p>and it would just hang here for as long as I wanted to wait.</p>
<p>I spent a good bit of time poking around and trying to ascertain what was/wasn’t working and assumed that maybe it was
a driver issue. I ran <code>lshw –c network</code> to get a list of my network devices and the drivers that they were using.</p>
<p><img alt="lshw01" src="/assets/images/lshw01.png" class="blogimage img-responsive"></p>
<p>From this, I could see that both devices were loaded and appeared to be running the correct drivers. On a whim, I
decided to eliminate extra variables and disable the in-built wireless card by issuing <code>modprobe –r iwlagn</code>
(the driver for the built-in card).</p>
<p>I then went back to see if airmon-ng would see my Alfa card, which it did:</p>
<p><img alt="airmon02" src="/assets/images/airmon02.png" class="blogimage img-responsive"></p>
<p>Encouraged by this, I attempted to put it in monitor mode (<code>airmon-ng start wlan1</code>) which also succeeded:</p>
<p><img alt="airmon03" src="/assets/images/airmon03.png" class="blogimage img-responsive"></p>
<p>At this point, running <code>ifconfig</code> showed both the wireless card and the monitor-mode device.</p>
<p><img alt="ifconfig02" src="/assets/images/ifconfig02.png" class="blogimage img-responsive"></p>
<p>And running <a href="http://www.wireshark.org/">WireShark</a> or other tools were now able to see the device and capture packets.</p><!--a(href='#{ conf.web_link }') Conference Homepage--><!--each session in conf.sessions--><!--  .row--><!--    .col-xs-11--><!--      h4 #{ session.title }--><!--      p #{ session.abstract }--><!--      if session.assets--><!--        ul--><!--          each asset in session.assets--><!--            li--><!--              a(href='#{ asset.link }') #{ asset.title }--></div></div><hr><div id="disqus_thread"></div></div></div></div><div class="col-sm-3"><div class="panel panel-default"><div class="panel-heading">Recent Posts</div><div class="panel-body"><ul><li><a href="/technology/2015/fighting_with_hidden_characters">Fighting with Hidden Characters</a></li><li><a href="/technology/2014/you-cant-handle-the-truth">You Can't Handle The Truth</a></li><li><a href="/technology/2014/codestock-2014">CodeStock 2014</a></li><li><a href="/technology/2014/tracking-planes-on-vacation">Tracking Planes on Vacation</a></li><li><a href="/technology/2014/book-review-learning-windows-mobile-services-for-win-8-and-win-phone-8">Book Review: Learning Windows Mobile Services for Win 8 and Win Phone 8</a></li><li><a href="/technology/2014/codemash-2014">CodeMash 2014</a></li></ul></div></div><div class="panel panel-default"><div class="panel-heading">Older Posts</div><div class="panel-body"><ul><li><a href="/technology/2015/">2015 Posts</a></li><li><a href="/technology/2014/">2014 Posts</a></li><li><a href="/technology/2013/">2013 Posts</a></li><li><a href="/technology/2012/">2012 Posts</a></li><li><a href="/technology/2011/">2011 Posts</a></li><li><a href="/technology/2010/">2010 Posts</a></li><li><a href="/technology/2009/">2009 Posts</a></li><li><a href="/technology/2008/">2008 Posts</a></li><li><a href="/technology/2007/">2007 Posts</a></li><li><a href="/technology/2006/">2006 Posts</a></li><li><a href="/technology/2005/">2005 Posts</a></li><li><a href="/technology/2004/">2004 Posts</a></li></ul></div></div></div></div></div></div><div id="footer"><div class="container"><p class="text-muted credit"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a> This work is licensed under a<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"> Creative Commons Attribution 4.0 International License</a>.</p></div></div><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script><script type="text/javascript" src="/assets/site.js"></script></body></html>